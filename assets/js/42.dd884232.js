(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{237:function(t,e,a){"use strict";var s=a(0),i=(a(245),a(242)),n=a.n(i),r=a(238),l=a.n(r),o=a(251),c=a(246),d=a.n(c),u=(a(247),a(248)),p=a.n(u),h=a(249),f=a.n(h),m=a(250),y=a.n(m);s.default.use(n.a),s.default.use(l.a),console.log("ams init config"),s.default.use(p.a),s.default.use(f.a),s.default.use(y.a),"undefined"!=typeof window&&(window.Vue=s.default),s.default.use(o.a,{languages:{javascript:d.a}}),l.a.config({resource:{api:{withCredentials:!1}}})},320:function(t,e,a){var s=a(2);s(s.S,"Array",{isArray:a(145)})},994:function(t,e,a){"use strict";a.r(e);var s,i=a(238),n=a.n(i),r=(a(237),a(320),a(42),a(93),a(29),a(59),a(146),a(122)),l={resources:{data:{fields:{url:{type:"text",label:"地址",props:{placeholder:"如： http://localhost:9528/examples/admin/mock/read.json"}},and:{type:"text",ctx:"view"},text:{type:"textarea",props:{rows:10,placeholder:'如： {"data":{"select": "aaaa.bbb", "text": "hello"}}'},label:"数据"},ans:{label:"资源配置：",type:"textarea",props:{rows:10}}}}},blocks:{buttons:{type:"form",ctx:"view",events:{submit:"edit.submit",format:"edit.format",clear:"edit.clear"},operations:{submit:{label:"生成",type:"button",props:{type:"primary"}},format:{label:"格式化",type:"button"},clear:{label:"清空",type:"button"}}},edit:{type:"form",ctx:"edit",resource:"data",data:{and:"或"},style:{width:"100%"},actions:{getFields:(s=Object(r.a)(regeneratorRuntime.mark(function t(){var e,a,s,i,n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,(e=JSON.parse(this.data.text)).data&&(e=e.data),a=[],Object.keys(e).forEach(function(t){a.push({name:t,type:"text"})}),t.next=7,this.$ams.request({url:"http://w3cmark.com/getBayes",method:"post",data:{data:JSON.stringify(a)},withCredentials:!1});case 7:s=t.sent,i={},s.data.res.forEach(function(t){i[t.name]={label:t.name,type:t.res[0]}}),n={key:"id",api:{prefix:"/",read:""},fields:i},this.data.ans=JSON.stringify(n,null,4),delete(r=this.$ams).resources.new,r.resource("new",n),this.callAction("@preview.update"),t.next=21;break;case 18:t.prev=18,t.t0=t.catch(0),this.data.ans=t.t0;case 21:case"end":return t.stop()}},t,this,[[0,18]])})),function(){return s.apply(this,arguments)}),submit:function(){var t=this;this.data.url?this.$ams.request({url:this.data.url,withCredentials:!1}).then(function(e){e.data.list&&Array.isArray(e.data.list)&&e.data.list.length>0?t.data.text=JSON.stringify(e.data.list[0],null,4):t.data.text=JSON.stringify(e.data,null,4),t.callAction("edit.getFields")}):this.data.text?this.callAction("edit.getFields"):this.data.ans="请输入url或者数据"},format:function(){try{if(this.data.text){var t=JSON.parse(this.data.text);this.data.text=JSON.stringify(t,null,4)}}catch(t){this.data.ans=t}},clear:function(){this.data.text="",this.data.url="",this.data.ans="",delete ams.resources.new,this.callAction("@preview.update")}}},preview:{type:"form",ctx:"edit",resource:"new",style:{width:"100%",marginTop:"40px",paddingTop:"40px",borderTop:"1px solid #eaecef"},actions:{update:function(){console.log("update"),this.initBlock()}}}}},o={data:function(){return{init:!1}},mounted:function(){n.a&&n.a.blocks&&n.a.blocks.convent?this.init=!0:(n.a.block("convent",l),this.init=!0)}},c=a(13),d=Object(c.a)(o,function(){var t=this.$createElement,e=this._self._c||t;return this.init?e("ams-block",{staticClass:"demo convent",attrs:{name:"convent"}}):this._e()},[],!1,null,null,null);e.default=d.exports}}]);
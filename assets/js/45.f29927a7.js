(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{1016:function(a,t,e){"use strict";e.r(t);var s=e(13),v=Object(s.a)({},function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h1",{attrs:{id:"ams"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ams","aria-hidden":"true"}},[a._v("#")]),a._v(" ams")]),a._v(" "),e("h2",{attrs:{id:"ams-prevreturn"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ams-prevreturn","aria-hidden":"true"}},[a._v("#")]),a._v(" ams.$prevReturn")]),a._v(" "),e("ul",[e("li",[a._v("类型： any")]),a._v(" "),e("li",[a._v("用法：")])]),a._v(" "),e("p",[a._v("action调用显式的返回值，会自动更新 "),e("code",[a._v("$prevReturn")]),a._v("，用于action参数传递，可以通过 "),e("code",[a._v("ams.$prevReturn = undefined")]),a._v(" 或者 "),e("code",[a._v("@clearReturn")]),a._v(" action来清空 "),e("code",[a._v("$prevReturn")])]),a._v(" "),e("h2",{attrs:{id:"ams-actions"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ams-actions","aria-hidden":"true"}},[a._v("#")]),a._v(" ams.actions")]),a._v(" "),e("ul",[e("li",[a._v("类型： object（只读）")]),a._v(" "),e("li",[a._v("用法：")])]),a._v(" "),e("p",[a._v("全局的action引用，可以访问到通过 "),e("code",[a._v("ams.action()")]),a._v(" 注册的action")]),a._v(" "),e("h2",{attrs:{id:"ams-blocks"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ams-blocks","aria-hidden":"true"}},[a._v("#")]),a._v(" ams.blocks")]),a._v(" "),e("ul",[e("li",[a._v("类型： object（只读）")]),a._v(" "),e("li",[a._v("用法：")])]),a._v(" "),e("p",[a._v("全局的block引用，可以访问到通过 "),e("code",[a._v("ams.block()")]),a._v(" 注册的block")]),a._v(" "),e("h2",{attrs:{id:"ams-blocks-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ams-blocks-2","aria-hidden":"true"}},[a._v("#")]),a._v(" ams.$blocks")]),a._v(" "),e("ul",[e("li",[a._v("类型： object（只读）")]),a._v(" "),e("li",[a._v("用法：")])]),a._v(" "),e("p",[a._v("全局的block vue对象引用，可以访问到已渲染的通过 "),e("code",[a._v("ams.block()")]),a._v(" 注册的block vue对象")]),a._v(" "),e("h2",{attrs:{id:"ams-resources"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ams-resources","aria-hidden":"true"}},[a._v("#")]),a._v(" ams.resources")]),a._v(" "),e("ul",[e("li",[a._v("类型： object（只读）")]),a._v(" "),e("li",[a._v("用法：")])]),a._v(" "),e("p",[a._v("全局的resource引用，可以访问到通过 "),e("code",[a._v("ams.resource()")]),a._v(" 注册的resource")]),a._v(" "),e("h2",{attrs:{id:"ams-action-name-action"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ams-action-name-action","aria-hidden":"true"}},[a._v("#")]),a._v(" ams.action(name, action)")]),a._v(" "),e("ul",[e("li",[a._v("参数：\n"),e("ul",[e("li",[a._v("name: "),e("code",[a._v("string")])]),a._v(" "),e("li",[a._v("action: "),e("code",[a._v("function")])])])]),a._v(" "),e("li",[a._v("用法：")])]),a._v(" "),e("p",[a._v("注册一个全局action，详见 "),e("router-link",{attrs:{to:"/api/action.html"}},[a._v("event 与 action")])],1),a._v(" "),e("h2",{attrs:{id:"ams-resource-name-resource"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ams-resource-name-resource","aria-hidden":"true"}},[a._v("#")]),a._v(" ams.resource(name, resource)")]),a._v(" "),e("ul",[e("li",[a._v("参数：\n"),e("ul",[e("li",[a._v("name: "),e("code",[a._v("string")])]),a._v(" "),e("li",[a._v("resource: "),e("code",[a._v("object")])])])]),a._v(" "),e("li",[a._v("用法：")])]),a._v(" "),e("p",[a._v("注册一个资源，参考 "),e("router-link",{attrs:{to:"/api/resource.html"}},[a._v("resource")])],1),a._v(" "),e("h2",{attrs:{id:"ams-block-name-block"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ams-block-name-block","aria-hidden":"true"}},[a._v("#")]),a._v(" ams.block(name, block)")]),a._v(" "),e("ul",[e("li",[a._v("参数：\n"),e("ul",[e("li",[a._v("name: "),e("code",[a._v("string")])]),a._v(" "),e("li",[a._v("block: "),e("code",[a._v("object")])])])]),a._v(" "),e("li",[a._v("用法：")])]),a._v(" "),e("p",[a._v("注册一个区块，参考 "),e("router-link",{attrs:{to:"/api/block.html"}},[a._v("block")])],1),a._v(" "),e("h2",{attrs:{id:"ams-render-name-el"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ams-render-name-el","aria-hidden":"true"}},[a._v("#")]),a._v(" ams.render(name, el)")]),a._v(" "),e("ul",[e("li",[a._v("参数：\n"),e("ul",[e("li",[a._v("name: "),e("code",[a._v("string")])]),a._v(" "),e("li",[a._v("block: "),e("code",[a._v("string")]),a._v(" | "),e("code",[a._v("HTMLElement")])])])]),a._v(" "),e("li",[a._v("用法：")])]),a._v(" "),e("p",[a._v("将区块渲染到el上面，")]),a._v(" "),e("div",{staticClass:"tip custom-block"},[e("p",[a._v("注册block时可以传入 "),e("code",[a._v("render: el")]),a._v("，和注册block后再调用 "),e("code",[a._v("ams.render")]),a._v(" 一样")])]),a._v(" "),e("h2",{attrs:{id:"ams-on-event-callback"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ams-on-event-callback","aria-hidden":"true"}},[a._v("#")]),a._v(" ams.$on( event, callback )")]),a._v(" "),e("ul",[e("li",[e("p",[a._v("参数：")]),a._v(" "),e("ul",[e("li",[e("code",[a._v("{string | Array<string>} event")])]),a._v(" "),e("li",[e("code",[a._v("{Function} callback")])])])]),a._v(" "),e("li",[e("p",[a._v("用法：")]),a._v(" "),e("p",[a._v("监听当前实例上的自定义事件。事件可以由"),e("code",[a._v("ams.$emit")]),a._v("触发。回调函数会接收所有传入事件触发函数的额外参数。")])]),a._v(" "),e("li",[e("p",[a._v("示例：")]),a._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[a._v("ams"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("$on")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[a._v("'test'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("function")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[a._v("msg")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n  console"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("msg"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\nams"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("$emit")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[a._v("'test'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[a._v("'hi'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v('// => "hi"')]),a._v("\n")])])])])]),a._v(" "),e("h2",{attrs:{id:"ams-once-event-callback"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ams-once-event-callback","aria-hidden":"true"}},[a._v("#")]),a._v(" ams.$once( event, callback )")]),a._v(" "),e("ul",[e("li",[e("p",[a._v("参数：")]),a._v(" "),e("ul",[e("li",[e("code",[a._v("{string} event")])]),a._v(" "),e("li",[e("code",[a._v("{Function} callback")])])])]),a._v(" "),e("li",[e("p",[a._v("用法：")]),a._v(" "),e("p",[a._v("监听一个自定义事件，但是只触发一次，在第一次触发之后移除监听器。")])])]),a._v(" "),e("h2",{attrs:{id:"ams-off-event-callback"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ams-off-event-callback","aria-hidden":"true"}},[a._v("#")]),a._v(" ams.$off( [event, callback] )")]),a._v(" "),e("ul",[e("li",[e("p",[a._v("参数：")]),a._v(" "),e("ul",[e("li",[e("code",[a._v("{string | Array<string>} event")])]),a._v(" "),e("li",[e("code",[a._v("{Function} [callback]")])])])]),a._v(" "),e("li",[e("p",[a._v("用法：")]),a._v(" "),e("p",[a._v("移除自定义事件监听器。")]),a._v(" "),e("ul",[e("li",[e("p",[a._v("如果没有提供参数，则移除所有的事件监听器；")])]),a._v(" "),e("li",[e("p",[a._v("如果只提供了事件，则移除该事件所有的监听器；")])]),a._v(" "),e("li",[e("p",[a._v("如果同时提供了事件与回调，则只移除这个回调的监听器。")])])])])]),a._v(" "),e("h2",{attrs:{id:"ams-emit-eventname-args"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ams-emit-eventname-args","aria-hidden":"true"}},[a._v("#")]),a._v(" ams.$emit( eventName, [...args] )")]),a._v(" "),e("ul",[e("li",[e("p",[a._v("参数：")]),a._v(" "),e("ul",[e("li",[e("code",[a._v("{string} eventName")])]),a._v(" "),e("li",[e("code",[a._v("[...args]")])])]),a._v(" "),e("p",[a._v("触发当前实例上的事件。附加参数都会传给监听器回调。")])])]),a._v(" "),e("h2",{attrs:{id:"ams-param-data"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ams-param-data","aria-hidden":"true"}},[a._v("#")]),a._v(" ams.param(data)")]),a._v(" "),e("ul",[e("li",[a._v("参数：\n"),e("ul",[e("li",[a._v("data: "),e("code",[a._v("object")])])])]),a._v(" "),e("li",[a._v("用法：")])]),a._v(" "),e("p",[a._v("返回将post数据 data序列化为"),e("code",[a._v("x-www-form-urlencoded")]),a._v("格式")]),a._v(" "),e("h2",{attrs:{id:"ams-createapiaction-params："}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ams-createapiaction-params：","aria-hidden":"true"}},[a._v("#")]),a._v(" ams.createApiAction(params：)")]),a._v(" "),e("ul",[e("li",[a._v("参数：\n"),e("ul",[e("li",[a._v("params： "),e("code",[a._v("object")]),a._v(" "),e("ul",[e("li",[a._v("getOptions： "),e("code",[a._v("async Function")]),a._v(" 请求参数获取回调")]),a._v(" "),e("li",[a._v("beforeRequest： "),e("code",[a._v("async Function")]),a._v(" 请求前处理参数回调")]),a._v(" "),e("li",[a._v("success： "),e("code",[a._v("async Function")]),a._v(" 成功回调")])])])])]),a._v(" "),e("li",[a._v("返回：\n"),e("ul",[e("li",[a._v("async Function")])])])]),a._v(" "),e("h2",{attrs:{id:"ams-request-opt"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ams-request-opt","aria-hidden":"true"}},[a._v("#")]),a._v(" ams.request(opt)")]),a._v(" "),e("ul",[e("li",[e("p",[a._v("参数：")]),a._v(" "),e("ul",[e("li",[a._v("opt： `object\n"),e("ul",[e("li",[a._v("opt.method：'get' | 'post'")]),a._v(" "),e("li",[a._v("url：string")]),a._v(" "),e("li",[a._v("data：object")]),a._v(" "),e("li",[a._v("params：object")]),a._v(" "),e("li",[a._v("headers：object")]),a._v(" "),e("li",[a._v("withCredentials：boolean,")]),a._v(" "),e("li",[a._v("contentType 'json' | 'form'")])])])])]),a._v(" "),e("li",[e("p",[a._v("返回：")]),a._v(" "),e("ul",[e("li",[a._v("Promise")])])]),a._v(" "),e("li",[e("p",[a._v("用法：")])])]),a._v(" "),e("p",[a._v("参数类似 "),e("a",{attrs:{href:"https://github.com/axios/axios",target:"_blank",rel:"noopener noreferrer"}},[a._v("axios"),e("OutboundLink")],1)]),a._v(" "),e("h2",{attrs:{id:"ams-configs"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ams-configs","aria-hidden":"true"}},[a._v("#")]),a._v(" ams.configs")]),a._v(" "),e("ul",[e("li",[a._v("类型： object（只读）")]),a._v(" "),e("li",[a._v("用法：")])]),a._v(" "),e("p",[a._v("获取config配置，可以通过ams.config(obj)更改")]),a._v(" "),e("h2",{attrs:{id:"ams-config-cfg"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ams-config-cfg","aria-hidden":"true"}},[a._v("#")]),a._v(" ams.config(cfg)")]),a._v(" "),e("ul",[e("li",[a._v("参数：\n"),e("ul",[e("li",[a._v("cfg: "),e("code",[a._v("object")]),a._v(" 会深度合并 ams.configs")])])]),a._v(" "),e("li",[a._v("用法：")])]),a._v(" "),e("p",[a._v("深度合并 ams.configs里面的配置")]),a._v(" "),e("h2",{attrs:{id:"ams-deepcloneconfig-cfg"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ams-deepcloneconfig-cfg","aria-hidden":"true"}},[a._v("#")]),a._v(" ams.deepCloneConfig(cfg)")]),a._v(" "),e("ul",[e("li",[a._v("参数：\n"),e("ul",[e("li",[a._v("cfg: "),e("code",[a._v("object")])])])]),a._v(" "),e("li",[a._v("用法：")])]),a._v(" "),e("p",[a._v("可以通过"),e("code",[a._v("base")]),a._v("简化配置，"),e("code",[a._v("ams.block")]),a._v(" 和 "),e("code",[a._v("ams.resource")]),a._v(" 先都会经过 "),e("code",[a._v("ams.deepCloneConfig")]),a._v(" 处理")]),a._v(" "),e("p",[a._v("详见 "),e("router-link",{attrs:{to:"/api/config.html"}},[a._v("配置简化（默认配置）")])],1),a._v(" "),e("h2",{attrs:{id:"ams-callaction-acitonname-args"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ams-callaction-acitonname-args","aria-hidden":"true"}},[a._v("#")]),a._v(" ams.callAction(acitonName = '', args = {})")]),a._v(" "),e("ul",[e("li",[a._v("参数：\n"),e("ul",[e("li",[a._v("acitonName: "),e("code",[a._v("string")])]),a._v(" "),e("li",[a._v("args: "),e("code",[a._v("object")])])])]),a._v(" "),e("li",[a._v("用法：")])]),a._v(" "),e("p",[a._v("调用 "),e("code",[a._v("action")]),a._v("或"),e("code",[a._v("event")]),a._v("，如全局actio: "),e("code",[a._v("ams.callAction('routerPush:/login')")]),a._v(" ，调用某个block的action："),e("code",[a._v("ams.callAction('formEdit.init')")])])])},[],!1,null,null,null);t.default=v.exports}}]);